# 实验四 操作系统裁减以及操作系统

## 0.1 编译内核    
在进入虚拟机的/root/lab/4/kernel之后，我们要进行内核编译  
~~~shell
  make menuconfig
~~~
等待编译完成，会进入编辑界面
在编辑界面向下移动会看到“filesystem”按下回车进入filesystem界面  
将光标移动到ext4处，按下空格取消选择，再将光标移动到到btrfs项，同样按下空格将其选择  
此时，按下键盘的右箭头，选择Save然后按下回车，将其保存为.config文件  
再按下Exit推出到Terminal，输入以下代码：
~~~shell
    make -j $(nproc) Image.gz
~~~
**参数解释：**
> -j: 这个选项用于指定可以并行运行的任务数量。并行编译可以显著加快构建过程。  
> $(nproc): 用于返回当前系统中的处理器核心数。将它与 -j 选项结合使用，make工具将尽可能多地并行执行任务，最大限度地利用所有可用的处理器核心。
> Image.gz: 是我们需要的编译好的内核镜像文件名称
